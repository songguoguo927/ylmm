{"version":3,"sources":["webpack:///./src/util/bus.js","webpack:///./src/containers/components/Login.vue?dcbf","webpack:///./src/containers/components/Login.vue?396f","webpack:///src/containers/components/Login.vue","webpack:///./src/containers/components/Login.vue"],"names":["Bus","Vue","render","_vm","this","_h","$createElement","_c","_self","staticStyle","display","background","padding","width","ref","staticClass","attrs","model","ruleForm","label","prop","type","autocomplete","value","name","callback","$$v","$set","expression","_v","password","on","click","$event","submitForm","resetForm","id","_withStripped","data","res","computed","userinfo","get","$store","state","isLogin","set","commit","methods","$refs","formName","resetFields","onLoad","message","getMyselfInfo","console","log","error","created","mounted","component","options","__file"],"mappings":"0FAAA,sCAEaA,EAAM,IAFnB,KAEuBC,U,wCCFvB,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACTC,EAAKJ,EAAIK,MAAMD,IAAMF,EACzB,OAAOE,EACL,MACA,CACEE,YAAa,CACXC,QAAS,OACT,kBAAmB,SACnB,aAAc,OACdC,WAAY,QACZC,QAAS,SAGb,CACEL,EACE,MACA,CAAEE,YAAa,CAAEI,MAAO,QACxB,CACEN,EACE,UACA,CACEO,IAAK,WACLC,YAAa,gBACbC,MAAO,CACLC,MAAOd,EAAIe,SACX,cAAe,GACf,cAAe,UAGnB,CACEX,EACE,eACA,CAAES,MAAO,CAAEG,MAAO,KAAMC,KAAM,SAC9B,CACEb,EAAG,WAAY,CACbS,MAAO,CAAEK,KAAM,OAAQC,aAAc,OACrCL,MAAO,CACLM,MAAOpB,EAAIe,SAASM,KACpBC,SAAU,SAASC,GACjBvB,EAAIwB,KAAKxB,EAAIe,SAAU,OAAQQ,IAEjCE,WAAY,oBAIlB,GAEFzB,EAAI0B,GAAG,KACPtB,EACE,eACA,CAAES,MAAO,CAAEG,MAAO,KAAMC,KAAM,aAC9B,CACEb,EAAG,WAAY,CACbS,MAAO,CAAEK,KAAM,WAAYC,aAAc,OACzCL,MAAO,CACLM,MAAOpB,EAAIe,SAASY,SACpBL,SAAU,SAASC,GACjBvB,EAAIwB,KAAKxB,EAAIe,SAAU,WAAYQ,IAErCE,WAAY,wBAIlB,GAEFzB,EAAI0B,GAAG,KACPtB,EACE,eACA,CACEA,EACE,YACA,CACES,MAAO,CAAEK,KAAM,WACfU,GAAI,CACFC,MAAO,SAASC,GACd,OAAO9B,EAAI+B,WAAW,eAI5B,CAAC/B,EAAI0B,GAAG,QAEV1B,EAAI0B,GAAG,KACPtB,EACE,YACA,CACEwB,GAAI,CACFC,MAAO,SAASC,GACd,OAAO9B,EAAIgC,UAAU,eAI3B,CAAChC,EAAI0B,GAAG,SAGZ,IAGJ,GAEF1B,EAAI0B,GAAG,KACPtB,EAAG,MAAO,CACRE,YAAa,CAAE,cAAe,OAAQ,aAAc,KACpDO,MAAO,CAAEoB,GAAI,SAGjB,MAMRlC,EAAOmC,eAAgB,E,6BCjH2M,EC+BlO,CACEC,KADF,WAqCI,MAAO,CACX,UACQd,KAAM,GACNM,SAAR,IAOMS,IAAN,KAGEC,SAAF,CACIC,SAAJ,CACMC,IADN,WAEQ,OAAOtC,KAAKuC,OAAOC,MAAMC,QAAU,KAAO,MAE5CC,IAJN,SAIA,GACQ1C,KAAKuC,OAAOI,OAAO,gBAA3B,MAIEC,QAAS,CACPd,WADJ,SACA,GAIM,KAAN,uBAOIC,UAZJ,SAYA,GACM/B,KAAK6C,MAAMC,GAAUC,eAEvBC,OAfJ,SAeA,cACM,OAAN,IAAM,CAAN,qBAEA,SACU,EAAV,8BACU,EAAV,iBAEU,EAAV,UACYC,QAAZ,eACYhC,KAAZ,cAKIiC,cA7BJ,WA6BA,WACM,OAAN,IAAM,GAAN,kBAEQ,EAAR,YACQ,EAAR,sCACQ,EAAR,4CACQ,EAAR,sBACQ,EAAR,qBANA,OAOA,YACQC,QAAQC,IAAIC,QAIlBC,QAtGF,aAyGEC,QAzGF,WA0GI,IAAJ,OACI,EAAJ,kCACM,EAAN,qB,OCpIIC,EAAY,YACd,EACA1D,EHuGoB,IGrGpB,EACA,KACA,KACA,MAuBF0D,EAAUC,QAAQC,OAAS,sCACZ,UAAAF,E","file":"8.build.js","sourcesContent":["// event-bus.js\r\nimport Vue from 'vue'\r\nexport const Bus = new Vue()\r\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticStyle: {\n        display: \"flex\",\n        \"justify-content\": \"center\",\n        \"margin-top\": \"30px\",\n        background: \"white\",\n        padding: \"40px\"\n      }\n    },\n    [\n      _c(\n        \"div\",\n        { staticStyle: { width: \"52%\" } },\n        [\n          _c(\n            \"el-form\",\n            {\n              ref: \"ruleForm\",\n              staticClass: \"demo-ruleForm\",\n              attrs: {\n                model: _vm.ruleForm,\n                \"status-icon\": \"\",\n                \"label-width\": \"100px\"\n              }\n            },\n            [\n              _c(\n                \"el-form-item\",\n                { attrs: { label: \"昵称\", prop: \"name\" } },\n                [\n                  _c(\"el-input\", {\n                    attrs: { type: \"name\", autocomplete: \"off\" },\n                    model: {\n                      value: _vm.ruleForm.name,\n                      callback: function($$v) {\n                        _vm.$set(_vm.ruleForm, \"name\", $$v)\n                      },\n                      expression: \"ruleForm.name\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-form-item\",\n                { attrs: { label: \"密码\", prop: \"password\" } },\n                [\n                  _c(\"el-input\", {\n                    attrs: { type: \"password\", autocomplete: \"off\" },\n                    model: {\n                      value: _vm.ruleForm.password,\n                      callback: function($$v) {\n                        _vm.$set(_vm.ruleForm, \"password\", $$v)\n                      },\n                      expression: \"ruleForm.password\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-form-item\",\n                [\n                  _c(\n                    \"el-button\",\n                    {\n                      attrs: { type: \"primary\" },\n                      on: {\n                        click: function($event) {\n                          return _vm.submitForm(\"ruleForm\")\n                        }\n                      }\n                    },\n                    [_vm._v(\"登录\")]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"el-button\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.resetForm(\"ruleForm\")\n                        }\n                      }\n                    },\n                    [_vm._v(\"重置\")]\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"div\", {\n            staticStyle: { \"margin-left\": \"80px\", \"margin-top\": \"0\" },\n            attrs: { id: \"sc\" }\n          })\n        ],\n        1\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","<template>\r\n  <div style=\"display: flex;justify-content: center;margin-top:30px;background:white;padding:40px\">\r\n    <div style=\"width:52%;\">\r\n      <el-form\r\n        :model=\"ruleForm\"\r\n        status-icon\r\n        ref=\"ruleForm\"\r\n        label-width=\"100px\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <el-form-item label=\"昵称\" prop=\"name\">\r\n          <el-input type=\"name\" v-model=\"ruleForm.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input type=\"password\" v-model=\"ruleForm.password\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">登录</el-button>\r\n          <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- <div>{{userinfo}}--{{res}}</div> -->\r\n      <div id=\"sc\" style=\"margin-left:80px;margin-top:0;\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { apiLogin,apiUser} from \"@/request/api\";\r\nimport Z from '@/util/localStorage.js'\r\nimport { Bus } from \"@/util/bus.js\";\r\n\r\nexport default {\r\n  data() {\r\n    var checkAge = (rule, value, callback) => {\r\n      if (!value) {\r\n        return callback(new Error(\"年龄不能为空\"));\r\n      }\r\n      setTimeout(() => {\r\n        if (!Number.isInteger(value)) {\r\n          callback(new Error(\"请输入数字值\"));\r\n        } else {\r\n          if (value < 18) {\r\n            callback(new Error(\"必须年满18岁\"));\r\n          } else {\r\n            callback();\r\n          }\r\n        }\r\n      }, 1000);\r\n    };\r\n    var validatePass = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入密码\"));\r\n      } else {\r\n        if (this.ruleForm.checkPass !== \"\") {\r\n          this.$refs.ruleForm.validateField(\"checkPass\");\r\n        }\r\n        callback();\r\n      }\r\n    };\r\n    var validatePass2 = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请再次输入密码\"));\r\n      } else if (value !== this.ruleForm.pass) {\r\n        callback(new Error(\"两次输入密码不一致!\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n     ruleForm: {\r\n        name: \"\",\r\n        password:\"\",\r\n      },\r\n      // rules: {\r\n      //   pass: [{ validator: validatePass, trigger: \"blur\" }],\r\n      //   checkPass: [{ validator: validatePass2, trigger: \"blur\" }],\r\n      // }\r\n      // userinfo:'未登录',\r\n      res:''\r\n    };\r\n  },\r\n  computed:{\r\n    userinfo:{\r\n      get(){\r\n        return this.$store.state.isLogin ? '已登' : '未登'\r\n      },\r\n      set(v){\r\n        this.$store.commit('changeIsLogin',v)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      // this.$refs[formName].validate(valid => {\r\n      //   if (valid) {\r\n          // alert(\"submit!\");\r\n          this.onLoad(this.ruleForm)\r\n      //   } else {\r\n      //     console.log(\"error submit!!\");\r\n      //     return false;\r\n      //   }\r\n      // });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    onLoad(p){\r\n      apiLogin(p).then(res=>{\r\n        // console.log('login',res)       \r\n        if(res.token){\r\n          Z.setStorage('token',res.token)\r\n          this.getMyselfInfo()\r\n        }else{\r\n            this.$message({\r\n            message:res.msg+'hahaha',\r\n            type:'error'\r\n          })\r\n        }\r\n      })     \r\n    },\r\n    getMyselfInfo(){\r\n      apiUser().then(res=>{//加了token就是自己的user信息\r\n        // console.log(res)\r\n        this.userinfo = true\r\n        this.$store.commit('setAvatarName',res.name)\r\n        this.$store.commit('setwalletAddress',res.address)\r\n        this.res = JSON.stringify(res)\r\n        this.$router.push('/')\r\n      }).catch(error=>{\r\n        console.log(error)\r\n      })\r\n    }\r\n  },\r\n  created(){\r\n    // this.onLoad()\r\n  },\r\n  mounted() {\r\n    let vm = this\r\n    Bus.$on('getMyselfInfo',function(){\r\n        vm.getMyselfInfo()\r\n    })\r\n    // window.onload = function() {\r\n    //   var ic = new smartCaptcha({\r\n    //     renderTo: \"#sc\",\r\n    //     width: 300,\r\n    //     height: 42,\r\n    //     default_txt: \"点击按钮开始智能验证\",\r\n    //     success_txt: \"验证成功\",\r\n    //     fail_txt: \"验证失败，请在此点击按钮刷新\",\r\n    //     scaning_txt: \"智能检测中\",\r\n    //     success: function(data) {\r\n    //       console.log(NVC_Opt.token);\r\n    //       console.log(data.sessionId);\r\n    //       console.log(data.sig);\r\n    //     },\r\n    //     fail: function(data) {\r\n    //       console.log(\"ic error\");\r\n    //     }\r\n    //   });\r\n    //   ic.init();\r\n    // };\r\n    // this.$axios.get('/api/stocks/ISLA', {\r\n    //     // params: {\r\n    //     //   ID: 12345\r\n    //     // }\r\n    //   })\r\n    //   .then(function (res) {\r\n    //     console.log(res,'原生');\r\n    //   })\r\n    //   .catch(function (err) {\r\n    //     console.log(err);\r\n    //   });\r\n  }\r\n};\r\n</script>","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=520040b8&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\xjm\\\\Downloads\\\\ylmm-web\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('520040b8')) {\n      api.createRecord('520040b8', component.options)\n    } else {\n      api.reload('520040b8', component.options)\n    }\n    module.hot.accept(\"./Login.vue?vue&type=template&id=520040b8&\", function () {\n      api.rerender('520040b8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/containers/components/Login.vue\"\nexport default component.exports"],"sourceRoot":""}